/**
 * Falsy Values: false, 0, "", null, undefined, NaN
 */

/**
 * Module Dependencies.
 */
var plugin = require('./plugin.js');
/**
 * NavAL is an instance of Plugin. It will encode Affordance or Affordances instances into a NavAL JSON representation,
 * and return the encoded string immediately.
 */
var naval = plugin();

/**
 * Set the delegate callback function that handles the encoding for this particular media type (NavAL JSON in this case.)
 * @param affordances should be an instance of Affordance or Affordances.
 * @return should be an encoded string representation of the Affordance or Affordances.
 */
naval.setShouldEncodeDelegate(function (hypermedia) {
    /**
     * Remove the prettifier eventually to keep the encodings more terse.
     */
    return JSON.stringify(hypermedia, null, ' ');
});

/**
 * Set the delegate callback function that handles the decoding for this particular media type (NavAL JSON in this case.)
 * @param string should be an instance of String, and should be of media type NavAL JSON.
 * @return {Affordance} or {Affordances}
 */
naval.setShouldDecodeDelegate(function (string) {
    /**
     * Convert the parsed objects to Affordance or Affordances instances eventually.
     */
    return JSON.parse(string);
});

module.exports = exports = naval;
