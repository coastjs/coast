#!/usr/bin/env node

/**
 * Falsy Values: false, 0, "", null, undefined, NaN
 */

/**
 * Module dependencies.
 */
var fs = require('fs'),
    path = require('path'),
    xhn = require('xhn');

var sep = path.sep,
    argv = process.argv,
    file = argv[2],
    fileArgumentExists = !!file,
    fileResolvedPath,
    fileExists,
    fileContents,
    fileContentsExist,
    fileDirName;

if (fileArgumentExists) {
    fileResolvedPath = path.resolve(file);
    fileExists = fs.existsSync(fileResolvedPath) && fs.statSync(fileResolvedPath).isFile();

    if (fileExists) {
        fileContents = fs.readFileSync(fileResolvedPath, 'utf8');
        fileContentsExist = !!fileContents;
        fileDirName = path.dirname(fileResolvedPath);

        if (fileContentsExist) {
            try {
                eval(compiledContents);
            } catch (e) {
                console.log(e.message);
            }
        } else {
            console.log('Please enter an existing path to a Hapi file.');
        }
    } else {
        console.log('Please enter an existing path to a Hapi file.');
    }
} else {
    console.log('Please enter an existing path to a Hapi file.');
}
